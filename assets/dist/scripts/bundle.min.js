"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,r):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Gallery=function(){var n,r,t,e,a,o,l=document.querySelector(".gallery-images");l&&(n=document.querySelector(".gallery-images-inner"),r=document.querySelector(".gallery-panel"),t=r.querySelector(".panel-image-preview .content-image"),e=document.querySelector("#images-input"),a=null,l.addEventListener("mousedown",function(e){var e=e.target.closest(".content-item");e&&(e=e,t.src=e.dataset.url,a&&a.classList.remove("is-current"),(a=e).classList.add("is-current"))}),o=function(e){_toConsumableArray(e).forEach(function(e){return e=e,(r=new FormData).append("file",e),void fetch("/inc/upload.php",{method:"POST",body:r}).then(function(e){e.json().then(function(e){console.log(e.ok);var r=document.createElement("DIV"),t=(r.className="content-item",r.dataset.url=e.response,document.createElement("IMG"));t.src=e.response,r.appendChild(t),n.prepend(r)})}).catch(function(e){});var r})},r.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation(),r.classList.add("gallery-panel-files")}),r.addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation(),r.classList.add("gallery-panel-files")}),r.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation(),r.classList.remove("gallery-panel-files")}),r.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation(),r.classList.remove("gallery-panel-files");e=e.dataTransfer.files;o(e)}),e.addEventListener("change",function(){o(e.files)}))};window.addEventListener("load",function(){Gallery()});